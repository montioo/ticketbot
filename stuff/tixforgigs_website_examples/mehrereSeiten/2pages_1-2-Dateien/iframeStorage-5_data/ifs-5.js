!function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var t={};n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=130)}({130:function(e,n,t){"use strict";function r(e){var n=window.location.search.match(new RegExp("[?&]"+e+"=([^&]*)(&?)","i"));return n?decodeURIComponent(n[1]):"null"}Object.defineProperty(n,"__esModule",{value:!0}),new(t(131).default)(r("journeyId"),r("iframeId")).init()},131:function(e,n,t){"use strict";function r(e,n){try{localStorage.setItem(e,JSON.stringify(n))}catch(e){}}function o(e){var n=localStorage.getItem(e)||"null";try{return JSON.parse(n)}catch(t){if("SyntaxError"!==t.name)throw t;r(e,n)}return n}function s(e,n,t){r(e.journeyId+"."+n,t)}function i(e,n){return o(e.journeyId+"."+n)}function a(e,n){localStorage.removeItem(e.journeyId+"."+n)}function u(e){var n=new RegExp("^"+e+"\\."),t={};return Object.keys(localStorage).filter(function(e){return n.test(e)}).reduce(function(e,t){return e[t.replace(n,"")]=o(t),e},t)}function c(e,n){var t,r,o={},s=new RegExp("^"+n);for(t in e)s.test(t)&&(r=t.replace(s,""),o[r]=e[t]);return o}function d(e,n){var t=new RegExp("^"+n.sessionId+"\\."),r=n.sessionId!==e.sessionId;return r&&(s(e,"sessionId",e.sessionId),Object.keys(n).filter(function(e){return t.test(e)}).forEach(function(n){return a(e,n)})),r}function f(e,n){var t=c(n,n.sessionId+"\\.");n.sessionId!==e.sessionId&&(t={}),e.sendMessageToParent("data",t)}function l(e,n){var t=new RegExp("^"+e.journeyId+"\\.");"storage"===n.type&&n.key&&t.test(n.key)&&f(e,u(e.journeyId))}function y(e,n,t){var r=n.value;i(e,"sessionId")===t&&n.hasOwnProperty("value")&&n.hasOwnProperty("key")&&s(e,t+"."+n.key,r)}function p(e,n){var t;try{t=JSON.parse(n.data)||{}}catch(e){t={}}switch(t.command){case I:e.sessionId=t.sessionId;var r=u(e.journeyId);d(e,r)&&(r=u(e.journeyId)),f(e,r);break;case g:y(e,t,e.sessionId);break;case v:t.hasOwnProperty("key")&&a(e,e.sessionId+"."+t.key)}}Object.defineProperty(n,"__esModule",{value:!0});var I=1,g=2,v=3,w=function(){function e(e,n){this.iframeId=n,this.journeyId=e,this.targetOrigin=document.referrer.replace(/^([a-z]*:\/\/[^\/]+).*$/,"$1")||"*"}return e.prototype.init=function(e){var n=this;void 0===e&&(e=function(){return window.localStorage});try{e()}catch(e){return}window.addEventListener("message",function(e){return p(n,e)},!1),window.addEventListener("storage",function(e){return l(n,e)},!1),this.sendMessageToParent("ready")},e.prototype.sendMessageToParent=function(e,n){void 0===n&&(n=null),window.parent.postMessage(JSON.stringify({id:this.iframeId,messageType:e,messageBody:n}),this.targetOrigin)},e}();n.default=w}});